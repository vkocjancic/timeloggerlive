"use strict";(function(n){function e(n){this.element=n}function nt(){}function i(t){this.element=n("#"+t);this.startDate=new Date;this.elementStatus=n("li.status i",this.element);this.ixForward=2;this.ixToday=1;this.ixPrevious=0}function c(n){i.call(this,n)}function u(n){i.call(this,n);this.id=n;this.interval="W"}function h(n){u.call(this,n);this.interval="W"}function l(n){u.call(this,n);this.interval="M"}function a(n){u.call(this,n);this.interval="Y"}function r(t){this.regexTimeFormat=/(\d{1,2})[:.](\d{2})\s{0,1}(am|AM|pm|PM)?/;this.element=n("."+t);this.placeholderNewItem=n(".entry-ph",this.element);this.placeholderLog='<tr data-id="{data-id}"><td class="time"><div contenteditable="true">{from}<\/div><\/td><td class="time"><div contenteditable="true">{to}<\/div><\/td><td class="description"><div contenteditable="true">{description}<\/div><\/td><td>{action}<\/td><td>{status}<\/td><\/tr>';this.placeholderTotal=n(".entry-total",this.element);this.dateNavigationBar=null;this.isUserActivated=glb_userRoles.indexOf("User")!==-1}function s(t){this.element=n("#"+t);this.body=n("#reportData tbody",this.element);this.footer=n("#reportData tfoot",this.element)}function p(n){s.call(this,n)}function y(n){s.call(this,n);this.startDate=null}function v(t){this.element=n("#"+t);this.buttons=n(".btn",this.element);this.defaultClass="btn-default";this.navigationBar=null}function w(t){this.id=t;this.element=n("#"+t)}function o(n){this.element=n}function t(t){this.element=n("#"+t);this.body=n("tbody",this.element);this.placeholderTask='<tr data-id="{data-id}"><td><a href="#" class="action-favourite">{isfavourite}<\/a><\/td><td>{description}<\/td><td>{action}<\/td><td class="task-status">{status}<\/td><\/tr>';this.isUserActivated=glb_userRoles.indexOf("User")!==-1;this.tasks=[];this.modalWindow=n("#taskDetailsModal")}function tt(t){this.element=t;this.elementTimeLogs=n("#timeLogData tbody",this.element);this.placeholderTimeLogs='<tr data-id="{data-id}"><td>{date}<\/td><td class="time"><div contenteditable="true">{from}<\/div><\/td><td class="time"><div contenteditable="true">{to}<\/div><\/td><td class="description"><div contenteditable="true">{description}<\/div><\/td><\/tr>'}function it(t,i){this.element=n("#"+t);this.queryElement=n("input",this.element);this.taskList=i}function ot(){this.type=k.APP;document.location.href.indexOf("/Insights")!==-1?this.type=k.INSIGHTS:document.location.href.indexOf("/Tasks")!==-1&&(this.type=k.TASKS)}var f,rt,b=new r("entry-list"),ut,ft=new w("insightsGraph"),d,g,et,k;e.prototype.displayNone=function(){this.resetClass(this.element.get(0),"")};e.prototype.displayNew=function(){this.resetClass(this.element.get(0),"fa fa-plus-circle")};e.prototype.displayError=function(){this.resetClass(this.element.get(0),"fa fa-exclamation-circle")};e.prototype.displayLoading=function(){this.resetClass(this.element.get(0),"fa fa-spinner fa-pulse fa-fw")};e.prototype.displaySuccess=function(){this.resetClass(this.element.get(0),"fa fa-check-circle")};e.prototype.resetClass=function(n,t){n.className=t};nt.prototype.format=function(n){var t=Math.floor(n/60),i=n%60;return t+"h "+i+"m"};i.prototype.dateOffset=0;i.prototype.selectedDate=function(){};i.prototype.destroy=function(){n("li a",this.element).off("click")};i.prototype.init=function(){var t=this;this.displayDate();this.executeAction();n("li:eq("+this.ixPrevious+") a",this.element).click(function(n){n.preventDefault();t.step(-1)});n("li:eq("+this.ixForward+") a",this.element).click(function(n){n.preventDefault();t.step(1)});n("li:eq("+this.ixToday+") a",this.element).click(function(n){n.preventDefault();t.step(-1*t.dateOffset)})};i.prototype.step=function(n){this.dateOffset+=n;this.displayDate();this.toggleStatus(!0);this.executeAction()};i.prototype.executeAction=function(){};i.prototype.addDays=function(n){this.dateOffset+=n;this.displayDate();this.toggleStatus(!0);var t=this;b.loadItemsForDate(this.selectedDate(),function(){t.toggleStatus(!1)})};i.prototype.displayDate=function(){n("li.info",this.element).text(this.displayDateString(this.selectedDate()))};i.prototype.displayDateString=function(){};i.prototype.toggleStatus=function(n){var t=new e(this.elementStatus);n?t.displayLoading():t.displayNone()};c.prototype=Object.create(i.prototype);c.prototype.constructor=c;c.prototype.selectedDate=function(){return this.startDate.addDays(this.dateOffset)};c.prototype.executeAction=function(){var n=this;b.loadItemsForDate(this.selectedDate(),function(){n.toggleStatus(!1)})};c.prototype.displayDateString=function(n){return n.getMonthName()+" "+n.getDate()+", "+n.getFullYear()};u.prototype=Object.create(i.prototype);u.prototype.constructor=u;u.prototype.executeRangeAction=function(n,t){ft.load(n,t,this.interval);d.load(n,t);this.toggleStatus(!1)};u.prototype.displayDateRangeString=function(n,t){return n.getMonthName()+" "+n.getDate()+", "+n.getFullYear()+" - "+t.getMonthName()+" "+t.getDate()+", "+t.getFullYear()};h.prototype=Object.create(u.prototype);h.prototype.constructor=h;h.prototype.executeAction=function(){var n=this.selectedDate(),t=n.addDays(-6);this.executeRangeAction(t,n)};h.prototype.selectedDate=function(){return this.startDate.addDays(this.dateOffset*7)};h.prototype.displayDateString=function(n){var t=n.addDays(-6);return this.displayDateRangeString(t,n)};l.prototype=Object.create(u.prototype);l.prototype.constructor=l;l.prototype.executeAction=function(){var n=this.selectedDate(),t=n.addMonths(-1).addDays(1);this.executeRangeAction(t,n)};l.prototype.selectedDate=function(){return this.startDate.addMonths(this.dateOffset)};l.prototype.displayDateString=function(n){var t=n.addMonths(-1).addDays(1);return this.displayDateRangeString(t,n)};a.prototype=Object.create(u.prototype);a.prototype.constructor=a;a.prototype.executeAction=function(){var n=this.selectedDate(),t=n.addYears(-1).addDays(1);this.executeRangeAction(t,n)};a.prototype.selectedDate=function(){return this.startDate.addYears(this.dateOffset)};a.prototype.displayDateString=function(n){var t=n.addYears(-1).addDays(1);return this.displayDateRangeString(t,n)};r.prototype.init=function(t){this.dateNavigationBar=t;var i=this;if(i.isUserActivated){this.placeholderNewItem.click(function(){i.newItem()});n("tbody",this.element).on("click","tr:not(.entry-ph)",function(t){i.editItem(this,n(t.target).get(0))});n("tbody",this.element).on("click","tr .action-save",function(){i.saveItem(this)});n("tbody",this.element).on("click","tr .action-clear",function(){i.removeItem(this)});n("tbody",this.element).on("keyup paste input","tr td.time div",function(){i.isValidTime(n(this).textOnly())?n(this).parent().removeClass("danger"):n(this).parent().addClass("danger")})}else this.placeholderNewItem.hide();b.loadItemsForDate(this.dateNavigationBar.selectedDate())};r.prototype.initTypeahead=function(t){n("td.description div",t).typeahead({minLength:1,items:10,showHintOnFocus:!0,source:function(t,i){if(!(1>t.length))return n.get("/App/api/assignmentsearch/",{query:t},function(n){return i(n.assignments)})}})};r.prototype.destroyTypeahead=function(t){n("td.description div",t).typeahead("destroy")};r.prototype.clearData=function(){n("tbody tr:not(.entry-ph)",this.element).remove();currentTimeLogs=[]};r.prototype.createItems=function(t){var i=this;n(t).each(function(){var n={"{data-id}":this.id,"{from}":this.from,"{to}":this.to?this.to:"","{description}":this.description,"{action}":i.isUserActivated?'<button class="action-clear"><i class="fa fa-times"><\/i><\/button>':"","{status}":'<i class="fa fa-check-circle"><\/i>'},t=new TemplateFormatter(n);i.placeholderNewItem.before(t.format(i.placeholderLog));currentTimeLogs.push({id:this.id,duration:this.duration})});this.updateTotal();n("tbody tr:not(.entry-ph) td div",this.element).each(function(){n(this).prop("contenteditable","false")})};r.prototype.editItem=function(t,i){if(i.tagName==="DIV"||i.tagName==="TD"){var r=n(t).attr("data-id");r&&r.length>0&&(n("td:lt(3) div",t).each(function(){"false"===n(this).prop("contenteditable")&&(n(this).prop("contenteditable","true"),i.tagName==="TD"?n("div",i).focus():n(i).focus())}),n(".action-save",t).get(0)||n('<button class="action-save"><i class="fa fa-floppy-o"><\/i><\/button>').insertBefore(n("td:eq(3) .action-clear",t)),this.initTypeahead(t))}};r.prototype.newItem=function(){var t=new TemplateFormatter({"{data-id}":"","{from}":"","{to}":"","{description}":"","{action}":'<button class="action-save"><i class="fa fa-floppy-o"><\/i><\/button><button class="action-clear"><i class="fa fa-times"><\/i><\/button>',"{status}":'<i class="fa fa-plus-circle"><\/i>'}),n;this.placeholderNewItem.before(t.format(this.placeholderLog));n=this.placeholderNewItem.prev();n.find("td:first-child div").focus();this.initTypeahead(n)};r.prototype.removeItem=function(t){var i=n(t).parents("tr"),r=i.attr("data-id"),o=new e(i.find("td:last-child i")),u=new ErrorHandler(n("#entry-list-info")),f=this;r&&r.length>0?(o.displayLoading(),n.ajax({url:"/App/api/timelog/"+r,method:"DELETE",statusCode:{401:function(){u.redirectToLogin()}}}).done(function(){f.destroyTypeahead(i);i.remove();currentTimeLogs.removeValue("id",r);f.updateTotal();u.displayMessage("success","Time log removed successfully")}).error(function(i,r,f){if(i.responseText){var e=n.parseJSON(i.responseText);u.displayMessage("error",e.errorDescription?e.errorDescription:e.Message)}else u.displayMessage("error",f);n(t).show()})):(f.destroyTypeahead(i),i.remove(),currentTimeLogs.removeValue("id",r),f.updateTotal())};r.prototype.saveItem=function(t){var u=n(t).parents("tr"),f=u.attr("data-id"),r=u.find("td div[contenteditable]"),s=new e(u.find("td:last-child i")),i=new ErrorHandler(n("#entry-list-info")),o=this,h,c;(r.each(function(){n(this).prop("contenteditable",!1)}),h=n(r.get(0)).textOnly(),c=n(r.get(1)).textOnly(),this.isValidTime(h)&&this.isValidTime(c))&&(n(t).hide(),s.displayLoading(),f&&f.length>0?n.ajax({url:"/App/api/timelog/",method:"PUT",data:{id:f,from:h,to:c,description:n(r.get(2)).textOnly(),date:o.dateNavigationBar.selectedDate().toApiDateString()},statusCode:{401:function(){i.redirectToLogin()}}}).done(function(r){o.destroyTypeahead(u.get(0));s.displaySuccess();currentTimeLogs.removeValue("id",f);currentTimeLogs.push({id:f,duration:r.timelog.duration});o.updateTotal();i.displayMessage("success","Time log saved successfully");n(t).remove()}).error(function(r,u,f){if(s.displayError(),r.responseText){var e=n.parseJSON(r.responseText);i.displayMessage("error",e.errorDescription?e.errorDescription:e.Message)}else i.displayMessage("error",f);n(t).show()}):n.post("/App/api/timelog",{id:f,from:h,to:c,description:n(r.get(2)).textOnly(),date:o.dateNavigationBar.selectedDate().toApiDateString()}).success(function(f){o.destroyTypeahead(u.get(0));currentTimeLogs.push({id:f.timelog.id,duration:f.timelog.duration});o.updateTotal();s.displaySuccess();u.attr("data-id",f.timelog.id);n(r.get(0)).text(f.timelog.from);f.timelog.to&&n(r.get(1)).text(f.timelog.to);n(t).remove();i.displayMessage("success","Time log saved successfully")}).fail(function(r){r.status===401&&i.redirectToLogin();s.displayError();r.responseText?i.displayMessage("error",n.parseJSON(r.responseText).errorDescription):i.displayMessage("error",r.statusText);n(t).show()}))};r.prototype.loadItemsForDate=function(t,i){var u=this,r=new ErrorHandler(n("#entry-list-info"));n.get("/App/api/timelog",{date:f.selectedDate().toApiDateString()}).success(function(n){u.clearData();u.createItems(n.timelogs);i&&i()}).fail(function(t){t.status===401&&r.redirectToLogin();t.responseText?r.displayMessage("error",n.parseJSON(t.responseText).errorDescription):r.displayMessage("error",t.statusText);i&&i()})};r.prototype.isValidTime=function(n){return null===n||0===n.length||this.regexTimeFormat.test(n)};r.prototype.updateTotal=function(){var t,i,n;if(currentTimeLogs){for(t=0,i=new nt,n=0;n<currentTimeLogs.length;n++)t+=currentTimeLogs[n].duration;this.placeholderTotal.text(i.format(t))}};s.prototype.init=function(t){var i=this;if(t)this.element.on("show.bs.modal",function(){var r=n(this),t=f.selectedDate();r.find(".modal-title span").text(f.displayDateString(t));i.loadForDate(t,i.createItems)})};s.prototype.loadForDate=function(){};s.prototype.clearItems=function(){n("tr",this.body).remove()};s.prototype.createItems=function(t,i){var f,e,r,u;for(t.clearItems(),f=0,e=new nt,r=0;r<i.length;r++)u=i[r],t.body.append("<tr><td>"+u.title+"<\/td><td>"+u.durationtext+"<\/td><\/tr>"),f+=u.duration;n("td:last",t.footer).text(e.format(f))};s.prototype.displayLoading=function(){this.body.append('<tr class="table-loading"><td colspan="2"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"><\/i><\/td><\/tr>')};p.prototype=Object.create(s.prototype);p.prototype.constructor=p;p.prototype.loadForDate=function(t,i){var r=this,u=new ErrorHandler(n("#entry-list-info"));r.clearItems();r.displayLoading();n.get("/App/api/report",{date:f.selectedDate().toApiDateString()}).success(function(n){r.clearItems();i&&i(r,n.reportItems)}).fail(function(t){t.status===401&&u.redirectToLogin();t.responseText?u.displayMessage("error",n.parseJSON(t.responseText).errorDescription):u.displayMessage("error",t.statusText)})};y.prototype=Object.create(s.prototype);y.prototype.constructor=y;y.prototype.load=function(n,t){this.startDate=n;this.loadForDate(t,this.createItems)};y.prototype.loadForDate=function(t,i){var r=this,u=new ErrorHandler(n("#insights-list-info"));r.clearItems();r.displayLoading();n.post("/App/api/insightsreport",{startDate:r.startDate.toApiDateString(),endDate:t.toApiDateString()}).success(function(n){r.clearItems();i&&i(r,n.reportItems)}).fail(function(t){t.status===401&&u.redirectToLogin();t.responseText?u.displayMessage("error",n.parseJSON(t.responseText).errorDescription):u.displayMessage("error",t.statusText)})};v.prototype.init=function(n){var t=this;this.navigationBar=n;t.buttons.on("click",function(){t.selectionChanged(this)})};v.prototype.selectionChanged=function(t){n(t).hasClass(this.defaultClass)&&(n(this.buttons).addClass(this.defaultClass),n(t).removeClass(this.defaultClass),this.resetNavigationBar())};v.prototype.resetNavigationBar=function(){this.navigationBar.destroy();this.navigationBar=this.isYearSelected()?new a(this.navigationBar.id):this.isMonthSelected()?new l(this.navigationBar.id):new h(this.navigationBar.id);this.navigationBar.init()};v.prototype.isWeekSelected=function(){return this.buttons.get(0).className.indexOf(this.defaultClass)===-1};v.prototype.isMonthSelected=function(){return this.buttons.get(1).className.indexOf(this.defaultClass)===-1};v.prototype.isYearSelected=function(){return this.buttons.get(2).className.indexOf(this.defaultClass)===-1};w.prototype.init=function(){this.element.attr("height","100")};w.prototype.load=function(t,i,r){var f=this,u=new ErrorHandler(n("#insights-list-info"));n.post("/App/api/insightschart",{startDate:t.toApiDateString(),endDate:i.toApiDateString(),interval:r}).success(function(n){f.draw(n)}).fail(function(t){t.status===401&&u.redirectToLogin();t.responseText?u.displayMessage("error",n.parseJSON(t.responseText).errorDescription):u.displayMessage("error",t.statusText)})};w.prototype.draw=function(n){this.clear();var t=new Chart(this.element,{type:"bar",data:{datasets:[{label:n.datasets[0].label,data:n.datasets[0].data,backgroundColor:"rgba(126, 185, 20, 0.3)",borderColor:"rgba(126, 185, 20, 0.7)",borderWidth:2},{type:"line",label:n.datasets[1].label,data:n.datasets[1].data,backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(199, 31, 22, 1)"}],labels:n.labels},options:{responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})};w.prototype.clear=function(){var t=this.element.parent("div");this.element.remove();t.append('<canvas id="insightsGraph"><\/canvas>');this.element=n("#"+this.id);this.init()};o.prototype.displayNone=function(){this.resetClass(this.element.get(0),"")};o.prototype.displayCompleted=function(){this.resetClass(this.element.get(0),"fa fa-stop-circle")};o.prototype.displayError=function(){this.resetClass(this.element.get(0),"fa fa-exclamation-circle")};o.prototype.displayLoading=function(){this.resetClass(this.element.get(0),"fa fa-spinner fa-pulse fa-fw")};o.prototype.displayProgress=function(){this.resetClass(this.element.get(0),"fa fa-play-circle")};o.prototype.displaySuccess=function(){this.resetClass(this.element.get(0),"fa fa-check-circle")};o.prototype.resetClass=function(n,t){n.className=t};t.prototype.actionComplete='<button class="action-complete"><i class="fa fa-stop"><\/i><\/button>';t.prototype.actionEdit='<button class="action-edit" data-toggle="modal" data-target="#taskDetailsModal"><i class="fa fa-pencil-square-o"><\/i><\/button>';t.prototype.actionReopen='<button class="action-reopen"><i class="fa fa-play"><\/i><\/button>';t.prototype.clearData=function(){this.tasks=[];n("tbody tr",this.element).remove()};t.prototype.createItems=function(t){var i=this;i.tasks=t;n(i.tasks).each(function(){var n={"{data-id}":this.id,"{isfavourite}":this.isfavourite?'<i class="fa fa-star"><\/i>':'<i class="fa fa-star-o"><\/i>',"{description}":this.description,"{action}":i.isUserActivated?i.actionEdit+(this.status==="P"?i.actionComplete:i.actionReopen):"","{status}":this.status==="P"?'<i class="fa fa-play-circle"><\/i>':'<i class="fa fa-stop-circle"><\/i>'},t=new TemplateFormatter(n);i.body.append(t.format(i.placeholderTask))})};t.prototype.displayAction=function(t,i){n(i).insertAfter(t);t.remove()};t.prototype.displayActionComplete=function(t){this.displayAction(n(".action-reopen",t),this.actionComplete)};t.prototype.displayActionReopen=function(t){this.displayAction(n(".action-complete",t),this.actionReopen)};t.prototype.getAllRows=function(){return n("tbody tr",this.element)};t.prototype.getAndDisplayDetails=function(t,i){var u=this,e=new ErrorHandler(n("#tasks-list-info")),r=new o(i.find("td.task-status i")),f=new tt(u.modalWindow);f.getAndDisplay(t,function(){r.displayLoading();u.updateTask(t,function(n,u){u?i.remove():(t.status==="C"?r.displayCompleted():r.displayProgress(),i.find("td:eq(1)").text(t.description))})})};t.prototype.getDescriptionInRow=function(t){return n("td:eq(1)",t).text()};t.prototype.init=function(){var t=this;if(t.isUserActivated){n("tbody",this.element).on("click","tr .action-favourite",function(n){n.preventDefault();t.markItemAsFavourite(this)});n("tbody",this.element).on("click","tr .action-complete",function(){t.markItemAsCompleted(this)});n("tbody",this.element).on("click","tr .action-reopen",function(){t.reopenItem(this)})}t.load();t.modalWindow.on("show.bs.modal",function(i){var r=n(i.relatedTarget).parents("tr"),u=r.attr("data-id"),f=t.tasks.filter(function(n){return n.id===u})[0];t.getAndDisplayDetails(f,r)})};t.prototype.load=function(){var i=this,t=new ErrorHandler(n("#tasks-list-info"));n.get("/App/api/assignment").success(function(n){i.clearData();i.createItems(n.assignments)}).fail(function(i){i.status===401&&t.redirectToLogin();i.responseText?t.displayMessage("error",n.parseJSON(i.responseText).errorDescription):t.displayMessage("error",i.statusText)})};t.prototype.markItemAsCompleted=function(t){var r=n(t).parents("tr"),f=r.attr("data-id"),e=this,u=new o(r.find("td.task-status i")),i=this.tasks.filter(function(n){return n.id===f})[0],s=i.status;u.displayLoading();i.status==="P"&&(i.status="C");this.updateTask(i,function(n){if(!n){i.status=s;return}u.displayCompleted();e.displayActionReopen(r)})};t.prototype.markItemAsFavourite=function(t){var r=n("i",t),u=n(t).parents("tr").attr("data-id"),i=this.tasks.filter(function(n){return n.id===u})[0];i.isfavourite=!i.isfavourite;this.updateTask(i,function(n){if(!n){i.isfavourite=!i.isfavourite;return}i.isfavourite?(r.removeClass("fa-star-o"),r.addClass("fa-star")):(r.removeClass("fa-star"),r.addClass("fa-star-o"))})};t.prototype.reopenItem=function(t){var r=n(t).parents("tr"),f=r.attr("data-id"),e=this,u=new o(r.find("td.task-status i")),i=this.tasks.filter(function(n){return n.id===f})[0],s=i.status;u.displayLoading();i.status==="C"&&(i.status="P");this.updateTask(i,function(n){if(!n){i.status=s;return}u.displayProgress();e.displayActionComplete(r)})};t.prototype.updateTask=function(t,i){var u=n("tbody tr[data-id="+t.id+"]"),f=new e(u.find("td:last-child i")),r=new ErrorHandler(n("#task-list-info"));n.ajax({url:"/App/api/assignment/",method:"PUT",data:{id:t.id,description:t.description,descriptionold:t.descriptionold,status:t.status,isfavourite:t.isfavourite},statusCode:{401:function(){r.redirectToLogin()}}}).done(function(n){i(!0,n.wasmerged)}).error(function(t,u,e){if(f.displayError(),t.responseText){var o=n.parseJSON(t.responseText);r.displayMessage("error",o.errorDescription?o.errorDescription:o.Message)}else r.displayMessage("error",e);i(!1)})};tt.prototype.getAndDisplay=function(t,i){var u=this,r=new ErrorHandler(n("#task-list-info"));n.get("/App/api/assignment",{id:t.id}).success(function(n){u.display(t,n.timelogs,i)}).fail(function(t){t.status===401&&r.redirectToLogin();t.responseText?r.displayMessage("error",n.parseJSON(t.responseText).errorDescription):r.displayMessage("error",t.statusText)})};tt.prototype.display=function(t,i,r){var f=this,u=f.element.find(".modal-title"),e;u.text(t.description);u.click(function(){u.prop("contenteditable","true");u.focus()});n("tr",f.elementTimeLogs).remove();n(i).each(function(){var n={"{data-id}":this.id,"{date}":this.date,"{from}":this.from,"{to}":this.to?this.to:"","{description}":this.description},t=new TemplateFormatter(n);f.elementTimeLogs.append(t.format(f.placeholderTimeLogs))});e=f.element.find(".action-save");e.off("click");e.click(function(){u.prop("contenteditable",!1);t.descriptionold=t.description;t.description=u.text();r()})};it.prototype.init=function(){var n=this;n.queryElement.on("keyup",function(){n.filterList()})};it.prototype.filterList=function(){var i=this.queryElement.val().toUpperCase(),t=this.taskList;t.getAllRows().each(function(r,u){t.getDescriptionInRow(u).toUpperCase().indexOf(i)===-1?n(u).hide():n(u).show()})};k={APP:{value:0,init:function(){f=new c("date-nav");f.init();b.init(f);ut=new p("dailyReportModal");ut.init(!0)}},INSIGHTS:{value:1,init:function(){ft.init();d=new y("insightsReport");d.init(!1);f=new h("date-range-nav");f.init();rt=new v("date-range-selector");rt.init(f)}},TASKS:{value:2,init:function(){g=new t("taskList");g.init();et=new it("task-list-search",g);et.init()}}};ot.prototype.init=function(){this.type.init()};n(document).ready(function(){var n=new ot;n.init()})})(jQuery);