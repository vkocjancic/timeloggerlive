@using System.Web.Caching;
@{
    var dateLastModified = DateTime.MinValue;
    Page.Title = $"TimeLoggerLive";
    if ((User.Identity.IsAuthenticated) && (User.IsInRole("Admin")))
    {
        @RenderPage($"~/Admin/Dashboard.cshtml")
    }
    else
    {
        @RenderPage($"~/Home.cshtml")
    }
    @AntiForgery.GetHtml()
    if (!Request.IsLocal && !User.Identity.IsAuthenticated)
    {
        Response.Cache.AppendCacheExtension("max-age=0");
        Response.Cache.SetValidUntilExpires(true);
        Response.Cache.SetCacheability(HttpCacheability.ServerAndPrivate);
        Response.AddCacheDependency(new CacheDependency(Server.MapPath("~/")));
        Response.AddCacheDependency(new CacheDependency(Server.MapPath("~/scripts")));
        Response.AddCacheDependency(new CacheDependency(Server.MapPath("~/Content")));
        TimeLogger.Web.Core.Site.SetConditionalGetHeaders(dateLastModified.ToLocalTime(), Context);
    }
}